!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){i(1),i(2),i(3);console.log("\n                              ..                            \n                        `/ohNMMNho:`                        \n                   `:ohNMMMMMMMMMMMMNho:`                   \n               -+ymMMMMMMMMMMNNMMMMMMMMMMmy+-               \n          ./sdMMMMMMMMMMMdy/.  -+ydMMMMMMMMMMMds/.          \n     `:ohNMMMMMMMMMMmy+-`          `-+ymMMMMMMMMMMNho:`     \n `oymMMMMMMMMMMNho:`         ..         `:ohNMMMMMMMMMMmyo` \n .MMMMMMMMNds/.         `:ohNMMNho:`         ./sdNMMMMMMMM. \n .MMMMMm+-         `-+ymMMMMMMMMMMMMmy+-`         -/mMMMMM. \n .MMMMMh       -+ymMMMMMMMMMMMMMMMMMMMMMMmy+-       hMMMMM. \n .MMMMMh     yNMMMMMMMMMMNho:``:ohNMMMMMMMMMMNd     hMMMMM. \n .MMMMMh     dMMMMMMNho:.          .:ohNMMMMMMM     hMMMMM. \n .MMMMMh     dMMMMM-                    -MMMMMM     hMMMMM. \n .MMMMMh     dMMMMM`                    `MMMMMM     hMMMMM. \n .MMMMMh     dMMMMM-                    `MMMMMM/////mMMMMM. \n .MMMMMh     dMMMMMMNds/-               `MMMMMMMMMMMMMMMMM. \n .MMMMMh     dMMMMMMMMMMMMdy+-`         `MMMMMMMMMMMMMMMMM. \n .MMMMMh      ./ohNMMMMMMMMMMMMmyo:`    .hhhhhhhhhhhhhhhhh. \n .MMMMMh           `:oymMMMMMMMMMMMMNho/.                   \n .MMMMMh                `-+sdMMMMMMMMMMMMNds/.                                Made with ðŸ’™ by Sam Craig\n .MMMMMh                      ./shNMMMMMMMMMMMd             \n .MMMMMh     hNNNNN`               `:oymMMMMMMd     hNNNNN` \n .MMMMMh     dMMMMM`                    `mMMMMd     hMMMMM. \n .MMMMMh     dMMMMM`                     mMMMMd     hMMMMM. \n .MMMMMh     dMMMMM-                    .NMMMMd     hMMMMM. \n .MMMMMh     dMMMMMMNho:.          .:ohNMMMMMMd     hMMMMM. \n .MMMMMh     sNMMMMMMMMMMNho:``:ohNMMMMMMMMMMNs     hMMMMM. \n .MMMMMh       ./sdMMMMMMMMMMMMMMMMMMMMMMds/.       hMMMMM. \n .MMMMMm+-          -+ymMMMMMMMMMMMMmy+-          -+mMMMMM. \n .MMMMMMMMMds/.         `:ohNMMNho:`         ./sdMMMMMMMMM. \n `+ymMMMMMMMMMMNho:`         ..         `:ohNMMMMMMMMMMmy+` \n     `:ohNMMMMMMMMMMmho:`          `:ohmMMMMMMMMMMNho:`     \n          ./sdMMMMMMMMMMMmy+-  -+ymMMMMMMMMMMMds/.          \n               -+ymMMMMMMMMMMMMMMMMMMMMMMdy+-               \n                   `:oymMMMMMMMMMMMMmyo:                    \n                        `:ohNMMNho:`                        \n                             ..                             ");var n=angular.module("app",["ngRoute"]);n.config(function(t,e){t.when("/",{templateUrl:"../views/home.html",resolve:s}).when("/about",{templateUrl:"../views/about.html",resolve:s}).when("/skills",{templateUrl:"../views/skills.html",resolve:s}).when("/work",{templateUrl:"../views/work.html",resolve:s}).when("/contact",{templateUrl:"../views/contact.html",resolve:s}),e.html5Mode(!0)});var s={delay:function(t,e){var i=t.defer();return e(i.resolve,2e3),i.promise}};n.controller("view",function(t,e,i){i(function(){var i=document.querySelector(".site-loader"),n=i.querySelectorAll(".line"),s=document.querySelector(".transition-sliders"),o=new TimelineLite({paused:!0});o.timeScale(.8).add(function(){i.classList.add("active")}).to(i,.8,{width:"100%",height:"100%",ease:Quad.easeIn}).to(n,.8,{width:"110%",height:"110%",ease:Expo.easeOut}).add(function(){i.style.borderTop="8px solid transparent",i.style.borderRight="8px solid transparent"}).to(n,.1,{visibility:"hidden"}).to(i,.5,{borderWidth:0}).to(s,1,{visibility:"visible"},"shutterStart").add(function(){s.classList.add("active")},"shutterStart-=0.5").add(function(){t.updateView()}).add(function(){i.style.visibility="hidden",i.classList.remove("active")},"shutterStart+=0.5").add(function(){document.getElementById("background").classList.add("active")},"shutterStart+=1.8").to(document.querySelectorAll("nav"),1,{display:"inline-block"},"shutterStart+=1.8").to(document.querySelectorAll(".nav-icon"),1,{opacity:1},"shutterStart+=3.3").add(function(){document.getElementById("light-mode").classList.add("active")},"shutterStart+=3.1"),o.play(),t.currentView=e.path(),t.currentViewEl=function(){return document.getElementById("view-container")},t.hasChangedView=!1,t.referrer="",t.isDark=function(){return"dark"===localStorage.getItem("color")},function(){function e(){i(),n(),s(),o(),window.addEventListener("resize",l),window.addEventListener("mousemove",c),document.getElementById("light-mode").addEventListener("click",function(){h=!h,f(),i(),n(),s(),o()}),r(b.offsetWidth,b.offsetHeight),a()}function i(){v=new FSS.CanvasRenderer,m&&N.removeChild(m.element),(m=v).setSize(b.offsetWidth,b.offsetHeight),N.appendChild(m.element)}function n(){S=new FSS.Scene}function s(){S.remove(p),m.clear(),g=new FSS.Plane(u.width*m.width,u.height*m.height,u.slices),y=new FSS.Material(u.ambient,u.diffuse),p=new FSS.Mesh(g,y),S.add(p)}function o(){m.clear(),(w=new FSS.Light(d.ambient,d.diffuse)).ambientHex=w.ambient.format(),w.diffuseHex=w.diffuse.format(),w.setPosition(d.xPos,d.yPos,d.zOffset),S.add(w),d.proxy=w,d.pickedup=!0,d.currIndex++}function r(t,e){m.setSize(t,e),FSS.Vector3.set(F,m.halfWidth,m.halfHeight),s()}function a(){M(),requestAnimationFrame(a)}function M(){m.render(S)}function l(){r(b.offsetWidth,b.offsetHeight),M()}function c(t){d.pickedup&&(d.xPos=t.x-m.width/2,d.yPos=m.height/2-t.y,d.proxy.setPosition(d.xPos,d.yPos,d.proxy.position[2]))}var h=t.isDark(),u={width:1.2,height:1.2,slices:250},d={count:1,xPos:0,yPos:200,zOffset:100,pickedup:!0,proxy:!1,currIndex:0},f=function(){h?(u.ambient="#4c4f65",u.diffuse="#ffffff",d.ambient="#1c1d25",d.diffuse="#4c4f65"):(u.ambient="#ffffff",u.diffuse="#4c4f65",d.ambient="#D8D8D8",d.diffuse="#D8D8D8")};f();var m,S,p,g,y,v,w,F=FSS.Vector3.create(),b=document.getElementById("background"),N=document.getElementById("output");e()}(),t.changeView=function(i){if(t.hasChangedView=!0,document.getElementById("light-mode").classList.remove("active"),document.getElementById("background").classList.add("transition"),t.currentView!=="/"+i){for(var n=document.getElementsByTagName("NAV"),s=document.getElementById("view-container").childNodes,o=document.querySelector(".transition-sliders"),r=0;r<s.length;r++)s[r].classList.remove("active");for(var a=0;a<n.length;a++)n[a].classList.remove("in"),n[a].classList.add("out");o.classList.toggle("active"),t.referrer=e.path(),e.path("/"+i),t.currentView="/"+i;for(var M=document.getElementById("view-container").childNodes,l=0;l<M.length;l++)M[l].classList.add("exit")}};var r=document.querySelectorAll(".nav-icon"),a=document.querySelectorAll("nav");t.elementsToToggle=[document.getElementById("background"),document.getElementById("sun"),document.getElementById("moon"),document.querySelector(".transition-sliders"),document.body],t.toggleColors=function(){null!==document.getElementById("map")&&t.updateMap();for(var e=0;e<t.elementsToToggle.length;e++)t.elementsToToggle[e].classList.toggle("dark");for(var i=0;i<r.length;i++)r[i].classList.toggle("dark");for(var n=0;n<a.length;n++)a[n].classList.toggle("dark");null!==t.currentViewEl()&&void 0!==t.currentViewEl()&&t.toggleViewColors()},t.toggleViewColors=function(){for(var e=t.currentViewEl(),i=0;i<e.childNodes.length;i++)e.childNodes[i].classList.toggle("dark")};var M=0,l=0,c=0,h=0,u=!1;window.onmousemove=function(t){var e=(t=t||window.event).clientX;e>l?(h=e)-c>=500&&!u&&(u=!0,M++):h-(c=e)>=500&&u&&(u=!1,M++),M>=5&&(M=0,document.getElementById("light-mode").dispatchEvent(new Event("click"))),l=e,clearTimeout(this.shakeDecayDelay),this.shakeDecayDelay=setTimeout(function(){M=0},100)},document.getElementById("light-mode").addEventListener("click",function(){null===localStorage.getItem("color")?localStorage.setItem("color","dark"):localStorage.removeItem("color"),t.toggleColors()}),"dark"!==localStorage.getItem("color")||t.hasChangedView||t.toggleColors()},0),t.updateView=function(){for(var t=document.getElementById("view-container").childNodes,e=0;e<t.length;e++)t[e].classList.add("active","active-f"),"dark"===localStorage.getItem("color")&&t[e].classList.add("dark")};var n=[{featureType:"administrative.locality",stylers:[{hue:"#2c2e33"},{saturation:7},{lightness:19},{visibility:"on"}]},{featureType:"landscape",stylers:[{hue:"#ffffff"},{saturation:-100},{lightness:100},{visibility:"simplified"}]},{featureType:"poi",stylers:[{hue:"#ffffff"},{saturation:-100},{lightness:100}]},{featureType:"road",elementType:"geometry",stylers:[{hue:"#bbc0c4"},{saturation:-93},{lightness:31},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{hue:"#bbc0c4"},{saturation:-93},{lightness:31}]},{featureType:"road.arterial",elementType:"labels",stylers:[{hue:"#bbc0c4"},{saturation:-93},{lightness:-2},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#d3e8f8"}]},{featureType:"road.local",elementType:"geometry",stylers:[{hue:"#e9ebed"},{saturation:-90},{lightness:-8},{visibility:"simplified"}]},{featureType:"transit",stylers:[{color:"#edf0f4"}]},{featureType:"water",stylers:[{color:"#4c4f65"}]}],s=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#1D71B8"},{lightness:10}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#1D71B8"},{lightness:35}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#1C1D25"}]}];t.style=function(){return t.isDark()?s:n},t.mapMarker=function(){return t.isDark()?"images/logoMarkerDark.svg":"images/logoMarkerLight.svg"},t.$on("$viewContentLoaded",function(){i(function(){"dark"!==localStorage.getItem("color")||t.hasChangedView||t.toggleViewColors();var n=document.getElementsByTagName("NAV");if(t.hasChangedView)for(var s=0;s<n.length;s++)n[s].classList.remove("out"),n[s].classList.add("in");for(var o=document.querySelector(".nav-wrapper.bot").childNodes,r=0;r<o.length;r++)o[r].classList.remove("active");var a=t.currentView.slice(1,t.currentView.length);""===a&&(a="home"),document.querySelector("."+a).classList.add("active");var M=document.querySelectorAll("nav"),l=document.getElementById("light-mode");if("/skills"===e.path()){t.activeSkills=[],t.totalSkills=["MongoDB","npm","Express","Node.js","Git","Angular","React","Redux","SCSS","CSS 3","JavaScript","jQuery","JSX","Webpack","HTML 5","MySQL","REST","Jade","AJAX"];var c=t.totalSkills.length-1;t.activeStart=Math.floor(Math.random()*(c+1)),t.activeEnd=0===t.activeStart?c:t.activeStart-1;for(var h=t.activeStart;h<=c;h++)t.activeSkills.push(t.totalSkills[h]);if(0!==t.activeStart)for(var u=0;u<=t.activeEnd;u++)t.activeSkills.push(t.totalSkills[u]);var d=0,f=!1,m=!1,S=!1,p=!1,g="up",y=!1;i(function(){document.getElementById("skill-wrap").childNodes[17].classList.add("active")},2e3);const n=parseFloat(document.getElementById("skill-wrap").style.top),s=parseFloat(document.getElementById("skill-wrap").style.left);var v=function(t){var e=document.createElement("div"),i=(t="on"+t)in e;return i||(e.setAttribute(t,"return;"),i="function"==typeof e[t]),e=null,i}("wheel")?"wheel":"mousewheel";window.addEventListener(v,function(o){if("/skills"===e.path()){var r=document.getElementById("skill-wrap"),a=r.childNodes[17];a.classList.remove("active");function M(t,e){var i=parseFloat(r.style.top),n=parseFloat(r.style.left);tween(r,{top:i+8*t,left:n+4*-t},1,e,Quad_easeInOut)}function l(){i(function(){for(var e=0;e<d;e++)t.activeEnd--,t.activeStart--,t.activeEnd<0&&(t.activeEnd=17),t.activeStart<0&&(t.activeStart=17),t.activeSkills.unshift(t.totalSkills[t.activeStart]),t.activeSkills.pop();a.classList.add("active"),r.style.top=n+"vh",r.style.left=s+"vw",d=0,m=!1,p=!1,0===o.deltaZ&&i(function(){y=!1},3e3)},0)}function c(){i(function(){for(var e=0;e<Math.abs(d);e++)t.activeEnd++,t.activeStart++,t.activeEnd>17&&(t.activeEnd=0),t.activeStart>17&&(t.activeStart=0),t.activeSkills.push(t.totalSkills[t.activeEnd]),t.activeSkills.shift();a.classList.add("active"),r.style.top=n+"vh",r.style.left=s+"vw",d=0,f=!1,S=!1,0===o.deltaZ&&i(function(){y=!1},3e3)},0)}if(100!==o.deltaY||m||S){if(-100===o.deltaY&&!f&&!p){g="up",d++,m=!0,0===o.deltaZ&&(y=!0);var h=d;i(function(){d===h&&(d>5&&(d=5),p=!0,M(d,l))},40)}}else{g="down",d--,f=!0,0===o.deltaZ&&(y=!0);var u=d;i(function(){d===u&&(d<-6&&(d=-6),S=!0,M(d,c))},40)}}});function w(){"/skills"===t.currentView&&i(function(){var t=new WheelEvent("wheel",{deltaY:"up"===g?-100:100,deltaZ:1});if(!y)for(var e=0;e<3;e++)window.dispatchEvent(t);w()},3e3)}i(function(){w()},3e3)}if("/contact"===e.path()){for(var F=document.getElementById("email"),b=document.getElementById("name"),N=document.getElementById("text-area"),x=document.getElementById("submit"),k=document.querySelectorAll("input, textarea"),V=0;V<k.length-1;V++)k[V].addEventListener("focus",function(t){t.target.nextSibling.classList.add("focus")}),k[V].addEventListener("blur",function(t){t.target.nextSibling.classList.remove("focus")});function T(){F.exists&&b.exists&&N.exists?x.classList.remove("error"):x.classList.add("error")}F.addEventListener("keyup",function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(F.value)?(F.nextSibling.classList.remove("error","focus"),F.exists=!0):(F.nextSibling.classList.add("error","focus"),F.exists=!1),T()}),b.addEventListener("keyup",function(){b.value.length>0?(b.nextSibling.classList.remove("error","focus"),b.exists=!0):(b.nextSibling.classList.add("error","focus"),b.exists=!1),T()}),N.addEventListener("keyup",function(){N.value.length>0?(N.nextSibling.classList.remove("error","focus"),N.exists=!0):(N.nextSibling.classList.add("error","focus"),N.exists=!1),T()}),document.getElementById("contact").addEventListener("submit",function(t){for(var e=t.target.childNodes,i=!0,n=0;n<e.length-1;n++){var s=e[n].childNodes[0].value,o=e[n].childNodes[1];0===s.length&&(i=!1,o.classList.add("error","focus"))}if(i){var r=new XMLHttpRequest;r.open(t.method,"/contact",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===r.readyState&&r.status},r.send(new FormData(t))}}),M[0].classList.add("contact"),M[1].classList.add("contact"),l.classList.add("contact");var E={lat:27.803628,lng:-82.733539},L=new google.maps.Map(document.getElementById("map"),{backgroundColor:"transparent",zoom:6,center:E,disableDefaultUI:!0,styles:t.style()});t.updateMap=function(){L.setOptions({backgroundColor:"transparent",zoom:6,center:E,disableDefaultUI:!0,styles:t.style()}),C.setOptions({position:E,map:L,icon:t.mapMarker()})};var I=new google.maps.InfoWindow({content:'<div id="iw-content"><h1>Samuel Craig</h1><h1>Saint Petersburg,</h1><h1>6861, 35th Ave N</h1><h1>33710</h1><br><a><span style="color: #57a3e4">@</span> : samc2198@gmail.com</a></div></div>'}),C=new google.maps.Marker({position:E,map:L,icon:t.mapMarker()});I.open(L,C),google.maps.InfoWindow.prototype.isOpen=!0,google.maps.event.addListener(L,"click",function(){I.isOpen&&(I.isOpen=!1,I.close())}),google.maps.event.addListener(C,"click",function(){I.isOpen?(I.isOpen=!1,I.close()):(I.isOpen=!0,I.open(L,C))}),google.maps.event.addListener(I,"closeclick",function(){I.isOpen=!1})}else M[0].classList.remove("contact"),M[1].classList.remove("contact"),l.classList.remove("contact");t.hasChangedView&&(i(function(){t.updateView()},0),l.classList.add("active"),document.getElementById("background").classList.remove("transition"))})},0)})},function(t,e,i){var n;!function(){"use strict";function e(t,e,i,n){var o,r,a,M,l,c,h,u,d,f,m=t[e][0],S=t[e][1],p=t[i][0],g=t[i][1],y=t[n][0],v=t[n][1],w=Math.abs(S-g),F=Math.abs(g-v);if(w<s&&F<s)throw new Error("Eek! Coincident points!");return w<s?r=(M=-(y-p)/(v-g))*((o=(p+m)/2)-(c=(p+y)/2))+(u=(g+v)/2):F<s?r=(a=-(p-m)/(g-S))*((o=(y+p)/2)-(l=(m+p)/2))+(h=(S+g)/2):(o=((a=-(p-m)/(g-S))*(l=(m+p)/2)-(M=-(y-p)/(v-g))*(c=(p+y)/2)+(u=(g+v)/2)-(h=(S+g)/2))/(a-M),r=w>F?a*(o-l)+h:M*(o-c)+u),d=p-o,f=g-r,{i:e,j:i,k:n,x:o,y:r,r:d*d+f*f}}function i(t){var e,i,n,s,o,r;for(i=t.length;i;)for(s=t[--i],n=t[--i],e=i;e;)if(r=t[--e],o=t[--e],n===o&&s===r||n===r&&s===o){t.splice(i,2),t.splice(e,2);break}}var s=1/1048576;n={triangulate:function(t,n){var o,r,a,M,l,c,h,u,d,f,m,S,p=t.length;if(p<3)return[];if(t=t.slice(0),n)for(o=p;o--;)t[o]=t[o][n];for(a=new Array(p),o=p;o--;)a[o]=o;for(a.sort(function(e,i){return t[i][0]-t[e][0]}),M=function(t){var e,i,n,s,o,r,a=Number.POSITIVE_INFINITY,M=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;for(e=t.length;e--;)t[e][0]<a&&(a=t[e][0]),t[e][0]>l&&(l=t[e][0]),t[e][1]<M&&(M=t[e][1]),t[e][1]>c&&(c=t[e][1]);return i=l-a,n=c-M,s=Math.max(i,n),o=a+.5*i,r=M+.5*n,[[o-20*s,r-s],[o,r+20*s],[o+20*s,r-s]]}(t),t.push(M[0],M[1],M[2]),l=[e(t,p+0,p+1,p+2)],c=[],h=[],o=a.length;o--;h.length=0){for(S=a[o],r=l.length;r--;)(u=t[S][0]-l[r].x)>0&&u*u>l[r].r?(c.push(l[r]),l.splice(r,1)):u*u+(d=t[S][1]-l[r].y)*d-l[r].r>s||(h.push(l[r].i,l[r].j,l[r].j,l[r].k,l[r].k,l[r].i),l.splice(r,1));for(i(h),r=h.length;r;)m=h[--r],f=h[--r],l.push(e(t,f,m,S))}for(o=l.length;o--;)c.push(l[o]);for(l.length=0,o=c.length;o--;)c[o].i<p&&c[o].j<p&&c[o].k<p&&l.push(c[o].i,c[o].j,c[o].k);return l},contains:function(t,e){if(e[0]<t[0][0]&&e[0]<t[1][0]&&e[0]<t[2][0]||e[0]>t[0][0]&&e[0]>t[1][0]&&e[0]>t[2][0]||e[1]<t[0][1]&&e[1]<t[1][1]&&e[1]<t[2][1]||e[1]>t[0][1]&&e[1]>t[1][1]&&e[1]>t[2][1])return null;var i=t[1][0]-t[0][0],n=t[2][0]-t[0][0],s=t[1][1]-t[0][1],o=t[2][1]-t[0][1],r=i*o-n*s;if(0===r)return null;var a=(o*(e[0]-t[0][0])-n*(e[1]-t[0][1]))/r,M=(i*(e[1]-t[0][1])-s*(e[0]-t[0][0]))/r;return a<0||M<0||a+M>1?null:[a,M]}},t.exports=n}(),FSS={FRONT:0,BACK:1,DOUBLE:2,SVGNS:"http://www.w3.org/2000/svg"},FSS.Array="function"==typeof Float32Array?Float32Array:Array,FSS.Utils={isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),s=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+s)},s);return t=n+s,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),FSS.Vector3={create:function(t,e,i){var n=new FSS.Array(3);return this.set(n,t,e,i),n},clone:function(t){var e=this.create();return this.copy(e,t),e},set:function(t,e,i,n){return t[0]=e||0,t[1]=i||0,t[2]=n||0,this},setX:function(t,e){return t[0]=e||0,this},setY:function(t,e){return t[1]=e||0,this},setZ:function(t,e){return t[2]=e||0,this},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],this},add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],this},addVectors:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],this},addScalar:function(t,e){return t[0]+=e,t[1]+=e,t[2]+=e,this},subtract:function(t,e){return t[0]-=e[0],t[1]-=e[1],t[2]-=e[2],this},subtractVectors:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],this},subtractScalar:function(t,e){return t[0]-=e,t[1]-=e,t[2]-=e,this},multiply:function(t,e){return t[0]*=e[0],t[1]*=e[1],t[2]*=e[2],this},multiplyVectors:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],this},multiplyScalar:function(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,this},divide:function(t,e){return t[0]/=e[0],t[1]/=e[1],t[2]/=e[2],this},divideVectors:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],this},divideScalar:function(t,e){return 0!==e?(t[0]/=e,t[1]/=e,t[2]/=e):(t[0]=0,t[1]=0,t[2]=0),this},cross:function(t,e){var i=t[0],n=t[1],s=t[2];return t[0]=n*e[2]-s*e[1],t[1]=s*e[0]-i*e[2],t[2]=i*e[1]-n*e[0],this},crossVectors:function(t,e,i){return t[0]=e[1]*i[2]-e[2]*i[1],t[1]=e[2]*i[0]-e[0]*i[2],t[2]=e[0]*i[1]-e[1]*i[0],this},min:function(t,e){return t[0]<e&&(t[0]=e),t[1]<e&&(t[1]=e),t[2]<e&&(t[2]=e),this},max:function(t,e){return t[0]>e&&(t[0]=e),t[1]>e&&(t[1]=e),t[2]>e&&(t[2]=e),this},clamp:function(t,e,i){return this.min(t,e),this.max(t,i),this},limit:function(t,e,i){var n=this.length(t);return null!==e&&n<e?this.setLength(t,e):null!==i&&n>i&&this.setLength(t,i),this},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},normalise:function(t){return this.divideScalar(t,this.length(t))},negate:function(t){return this.multiplyScalar(t,-1)},distanceSquared:function(t,e){var i=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return i*i+n*n+s*s},distance:function(t,e){return Math.sqrt(this.distanceSquared(t,e))},lengthSquared:function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},length:function(t){return Math.sqrt(this.lengthSquared(t))},setLength:function(t,e){var i=this.length(t);return 0!==i&&e!==i&&this.multiplyScalar(t,e/i),this}},FSS.Vector4={create:function(t,e,i,n){var s=new FSS.Array(4);return this.set(s,t,e,i),s},set:function(t,e,i,n,s){return t[0]=e||0,t[1]=i||0,t[2]=n||0,t[3]=s||0,this},setX:function(t,e){return t[0]=e||0,this},setY:function(t,e){return t[1]=e||0,this},setZ:function(t,e){return t[2]=e||0,this},setW:function(t,e){return t[3]=e||0,this},add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],t[3]+=e[3],this},multiplyVectors:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],this},multiplyScalar:function(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=e,this},min:function(t,e){return t[0]<e&&(t[0]=e),t[1]<e&&(t[1]=e),t[2]<e&&(t[2]=e),t[3]<e&&(t[3]=e),this},max:function(t,e){return t[0]>e&&(t[0]=e),t[1]>e&&(t[1]=e),t[2]>e&&(t[2]=e),t[3]>e&&(t[3]=e),this},clamp:function(t,e,i){return this.min(t,e),this.max(t,i),this}},FSS.Color=function(t,e){this.rgba=FSS.Vector4.create(),this.hex=t||"#000000",this.opacity=FSS.Utils.isNumber(e)?e:1,this.set(this.hex,this.opacity)},FSS.Color.prototype={set:function(t,e){var i=(t=t.replace("#","")).length/3;return this.rgba[0]=parseInt(t.substring(0*i,1*i),16)/255,this.rgba[1]=parseInt(t.substring(1*i,2*i),16)/255,this.rgba[2]=parseInt(t.substring(2*i,3*i),16)/255,this.rgba[3]=FSS.Utils.isNumber(e)?e:this.rgba[3],this},hexify:function(t){var e=Math.ceil(255*t).toString(16);return 1===e.length&&(e="0"+e),e},format:function(){var t=this.hexify(this.rgba[0]),e=this.hexify(this.rgba[1]),i=this.hexify(this.rgba[2]);return this.hex="#"+t+e+i,this.hex}},FSS.Object=function(){this.position=FSS.Vector3.create()},FSS.Object.prototype={setPosition:function(t,e,i){return FSS.Vector3.set(this.position,t,e,i),this}},FSS.Light=function(t,e){FSS.Object.call(this),this.ambient=new FSS.Color(t||"#FFFFFF"),this.diffuse=new FSS.Color(e||"#FFFFFF"),this.ray=FSS.Vector3.create()},FSS.Light.prototype=Object.create(FSS.Object.prototype),FSS.Vertex=function(t,e,i){this.position=FSS.Vector3.create(t,e,i)},FSS.Vertex.prototype={setPosition:function(t,e,i){return FSS.Vector3.set(this.position,t,e,i),this}},FSS.Triangle=function(t,e,i){this.a=t||new FSS.Vertex,this.b=e||new FSS.Vertex,this.c=i||new FSS.Vertex,this.vertices=[this.a,this.b,this.c],this.u=FSS.Vector3.create(),this.v=FSS.Vector3.create(),this.centroid=FSS.Vector3.create(),this.normal=FSS.Vector3.create(),this.color=new FSS.Color,this.polygon=document.createElementNS(FSS.SVGNS,"polygon"),this.polygon.setAttributeNS(null,"stroke-linejoin","round"),this.polygon.setAttributeNS(null,"stroke-miterlimit","1"),this.polygon.setAttributeNS(null,"stroke-width","1"),this.computeCentroid(),this.computeNormal()},FSS.Triangle.prototype={computeCentroid:function(){return this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0],this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1],this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2],FSS.Vector3.divideScalar(this.centroid,3),this},computeNormal:function(){return FSS.Vector3.subtractVectors(this.u,this.b.position,this.a.position),FSS.Vector3.subtractVectors(this.v,this.c.position,this.a.position),FSS.Vector3.crossVectors(this.normal,this.u,this.v),FSS.Vector3.normalise(this.normal),this}},FSS.Geometry=function(){this.vertices=[],this.triangles=[],this.dirty=!1},FSS.Geometry.prototype={update:function(){if(this.dirty){var t,e;for(t=this.triangles.length-1;t>=0;t--)(e=this.triangles[t]).computeCentroid(),e.computeNormal();this.dirty=!1}return this}},FSS.Plane=function(t,e,i){FSS.Geometry.call(this),this.width=t||100,this.height=e||100;var s,o,r=new Array(i);for(offsetX=-.5*this.width,offsetY=.5*this.height,a=r.length;a--;)s=offsetX+Math.random()*t,o=offsetY-Math.random()*e,r[a]=[s,o];r.push([offsetX,offsetY]),r.push([offsetX+t/2,offsetY]),r.push([offsetX+t,offsetY]),r.push([offsetX+t,offsetY-e/2]),r.push([offsetX+t,offsetY-e]),r.push([offsetX+t/2,offsetY-e]),r.push([offsetX,offsetY-e]),r.push([offsetX,offsetY-e/2]);for(var a=6;a>=0;a--)r.push([offsetX+Math.random()*t,offsetY]),r.push([offsetX,offsetY-Math.random()*e]),r.push([offsetX+t,offsetY-Math.random()*e]),r.push([offsetX+Math.random()*t,offsetY-e]);var M=n.triangulate(r);for(a=M.length;a;){--a;var l=[Math.ceil(r[M[a]][0]),Math.ceil(r[M[a]][1])];--a;var c=[Math.ceil(r[M[a]][0]),Math.ceil(r[M[a]][1])];--a;var h=[Math.ceil(r[M[a]][0]),Math.ceil(r[M[a]][1])];t1=new FSS.Triangle(new FSS.Vertex(l[0],l[1]),new FSS.Vertex(c[0],c[1]),new FSS.Vertex(h[0],h[1])),this.triangles.push(t1)}},FSS.Plane.prototype=Object.create(FSS.Geometry.prototype),FSS.Material=function(t,e){this.ambient=new FSS.Color(t||"#444444"),this.diffuse=new FSS.Color(e||"#FFFFFF"),this.slave=new FSS.Color},FSS.Mesh=function(t,e){FSS.Object.call(this),this.geometry=t||new FSS.Geometry,this.material=e||new FSS.Material,this.side=FSS.FRONT,this.visible=!0},FSS.Mesh.prototype=Object.create(FSS.Object.prototype),FSS.Mesh.prototype.update=function(t,e){var i,n,s,o,r;if(this.geometry.update(),e)for(i=this.geometry.triangles.length-1;i>=0;i--){for(n=this.geometry.triangles[i],FSS.Vector4.set(n.color.rgba),s=t.length-1;s>=0;s--)o=t[s],FSS.Vector3.subtractVectors(o.ray,o.position,n.centroid),FSS.Vector3.normalise(o.ray),r=FSS.Vector3.dot(n.normal,o.ray),this.side===FSS.FRONT?r=Math.max(r,0):this.side===FSS.BACK?r=Math.abs(Math.min(r,0)):this.side===FSS.DOUBLE&&(r=Math.max(Math.abs(r),0)),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,o.ambient.rgba),FSS.Vector4.add(n.color.rgba,this.material.slave.rgba),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,o.diffuse.rgba),FSS.Vector4.multiplyScalar(this.material.slave.rgba,r),FSS.Vector4.add(n.color.rgba,this.material.slave.rgba);FSS.Vector4.clamp(n.color.rgba,0,1)}return this},FSS.Scene=function(){this.meshes=[],this.lights=[]},FSS.Scene.prototype={add:function(t){return t instanceof FSS.Mesh&&!~this.meshes.indexOf(t)?this.meshes.push(t):t instanceof FSS.Light&&!~this.lights.indexOf(t)&&this.lights.push(t),this},remove:function(t){return t instanceof FSS.Mesh&&~this.meshes.indexOf(t)?this.meshes.splice(this.meshes.indexOf(t),1):t instanceof FSS.Light&&~this.lights.indexOf(t)&&this.lights.splice(this.lights.indexOf(t),1),this}},FSS.Renderer=function(){this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0},FSS.Renderer.prototype={setSize:function(t,e){if(this.width!==t||this.height!==e)return this.width=t,this.height=e,this.halfWidth=.5*this.width,this.halfHeight=.5*this.height,this},clear:function(){return this},render:function(t){return this}},FSS.CanvasRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.context=this.element.getContext("2d"),this.setSize(this.element.width,this.element.height)},FSS.CanvasRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.CanvasRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.element.width=t,this.element.height=e,this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight),this},FSS.CanvasRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height),this},FSS.CanvasRenderer.prototype.render=function(t){FSS.Renderer.prototype.render.call(this,t);var e,i,n,s,o;for(this.clear(),this.context.lineJoin="round",this.context.lineWidth=1,e=t.meshes.length-1;e>=0;e--)if((i=t.meshes[e]).visible)for(i.update(t.lights,!0),n=i.geometry.triangles.length-1;n>=0;n--)o=(s=i.geometry.triangles[n]).color.format(),this.context.beginPath(),this.context.moveTo(s.a.position[0],s.a.position[1]),this.context.lineTo(s.b.position[0],s.b.position[1]),this.context.lineTo(s.c.position[0],s.c.position[1]),this.context.closePath(),this.context.strokeStyle=o,this.context.fillStyle=o,this.context.stroke(),this.context.fill();return this}},function(t,e){},function(t,e){}]);